(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3523:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},6264:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4900:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},4280:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},9409:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8945:function(e,t,s){Promise.resolve().then(s.bind(s,5851))},5851:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var a=s(7437),l=s(2265),d=s(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,d.Z)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var n=s(2549);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,d.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var o=s(6264);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,d.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),u=(0,d.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),x=(0,d.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var m=s(9409);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,d.Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),p=(0,d.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),b=(0,d.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var j=s(4900);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,d.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var y=s(4280);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,d.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var f=s(3523);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,d.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var w=s(6637);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,d.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var _=s(9670);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let S=(0,d.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),C=(0,d.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),A=(0,d.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),T=(0,d.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var R=s(1396),D=s.n(R);let Z=e=>{let{text:t,children:s}=e,[d,n]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("button",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onClick:()=>n(!d),className:"ml-1 text-studio-muted hover:text-studio-accent transition-colors",type:"button",children:s||(0,a.jsx)(r,{className:"w-4 h-4"})}),d&&(0,a.jsxs)("div",{className:"absolute z-50 bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-64 p-3 bg-black border border-studio-border rounded-lg shadow-lg text-xs text-white",children:[(0,a.jsx)("div",{className:"whitespace-pre-wrap",children:t}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-black border-r border-b border-studio-border"})]})]})},M=e=>{let{isOpen:t,onClose:s}=e;return t?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:s,children:(0,a.jsxs)("div",{className:"bg-studio-bg border border-studio-border rounded-lg w-full max-w-3xl max-h-[80vh] overflow-auto m-4",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-studio-bg border-b border-studio-border p-4 flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(r,{className:"w-5 h-5 text-studio-accent"}),"Understanding Your Credit Analysis"]}),(0,a.jsx)("button",{onClick:s,className:"text-studio-muted hover:text-white p-1",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6 text-sm",children:[(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-studio-accent font-semibold mb-3 text-base",children:"\uD83D\uDCCA Result Metrics"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-green-400 mb-1",children:"Risk Level"}),(0,a.jsxs)("p",{className:"text-studio-muted",children:[(0,a.jsx)("strong",{children:"What it means:"})," How risky is it to give credit to this company?"]}),(0,a.jsxs)("ul",{className:"mt-2 space-y-1 text-studio-muted",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"Low"})," = Very safe, company is financially healthy"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-yellow-400",children:"Medium"})," = Some concerns, proceed with caution"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-orange-400",children:"High"})," = Significant risk, may have financial troubles"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-red-400",children:"Critical"})," = Very dangerous, high chance of default"]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-400 mb-1",children:"Credit Score (0-1000)"}),(0,a.jsxs)("p",{className:"text-studio-muted",children:[(0,a.jsx)("strong",{children:"What it means:"})," A number rating the company's creditworthiness, like a personal credit score but for businesses."]}),(0,a.jsxs)("ul",{className:"mt-2 space-y-1 text-studio-muted",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"800-1000"})," = Excellent - top tier company"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"650-799"})," = Good - reliable company"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-yellow-400",children:"500-649"})," = Fair - some concerns"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-orange-400",children:"350-499"})," = Poor - high risk"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-red-400",children:"0-349"})," = Very Poor - likely to default"]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-purple-400 mb-1",children:"Confidence (%)"}),(0,a.jsxs)("p",{className:"text-studio-muted",children:[(0,a.jsx)("strong",{children:"What it means:"})," How sure is the AI about its assessment?"]}),(0,a.jsxs)("ul",{className:"mt-2 space-y-1 text-studio-muted",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"80-100%"})," = Very confident - lots of data available"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-yellow-400",children:"60-79%"})," = Moderately confident - some data gaps"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-orange-400",children:"40-59%"})," = Low confidence - limited data"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-red-400",children:"0-39%"})," = Very uncertain - take results with caution"]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-studio-accent mb-1",children:"Eval Score (%)"}),(0,a.jsxs)("p",{className:"text-studio-muted",children:[(0,a.jsx)("strong",{children:"What it means:"})," How well did the AI perform the analysis? This measures the AI's work quality, NOT the company's quality."]}),(0,a.jsxs)("div",{className:"mt-2 p-2 bg-yellow-900/20 border border-yellow-800 rounded",children:[(0,a.jsx)("p",{className:"text-yellow-400 font-medium",children:"⚠️ Why is Eval Score 0%?"}),(0,a.jsx)("p",{className:"text-studio-muted mt-1",children:"This happens when the evaluation step hasn't run yet or there was no evaluation data saved. It does NOT mean the analysis is bad. The Result (Risk Level, Credit Score) is still valid."})]})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-studio-accent font-semibold mb-3 text-base",children:"\uD83C\uDFAF Evaluation Metrics (AI Performance)"}),(0,a.jsx)("p",{className:"text-studio-muted mb-4",children:"These scores measure how well the AI performed the analysis. Think of it like grading a student's homework - these grades are about the AI's work, not the company."}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-400 mb-1",children:"Tool Selection Score"}),(0,a.jsxs)("p",{className:"text-studio-muted",children:[(0,a.jsx)("strong",{children:"What it means:"})," Did the AI use the right data sources for this company?"]}),(0,a.jsxs)("div",{className:"mt-2 bg-black/30 p-2 rounded",children:[(0,a.jsx)("p",{className:"text-studio-muted text-xs mb-2",children:(0,a.jsx)("strong",{children:"How it's calculated:"})}),(0,a.jsxs)("ul",{className:"space-y-1 text-studio-muted text-xs",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"Precision"}),": Of the tools it used, how many were actually useful?"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"Recall"}),": Did it use all the tools it should have?"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"F1 Score"}),": The balance between Precision and Recall"]})]}),(0,a.jsx)("p",{className:"text-studio-muted text-xs mt-2",children:"Example: If analyzing a public company, it should use SEC filings. If it skipped that, recall goes down. If it used irrelevant sources, precision goes down."})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-purple-400 mb-1",children:"Data Quality Score"}),(0,a.jsxs)("p",{className:"text-studio-muted",children:[(0,a.jsx)("strong",{children:"What it means:"})," How complete and useful was the data the AI gathered?"]}),(0,a.jsxs)("div",{className:"mt-2 bg-black/30 p-2 rounded",children:[(0,a.jsx)("p",{className:"text-studio-muted text-xs mb-2",children:(0,a.jsx)("strong",{children:"Factors considered:"})}),(0,a.jsxs)("ul",{className:"space-y-1 text-studio-muted text-xs",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"Completeness"}),": Did it find financial data, news, legal info?"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"Sources Used"}),": How many different sources provided data?"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"Data Freshness"}),": Is the data recent and relevant?"]})]}),(0,a.jsx)("p",{className:"text-studio-muted text-xs mt-2",children:"Low score means: Missing important data, couldn't access some sources, or data is outdated."})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-green-400 mb-1",children:"Synthesis Score"}),(0,a.jsxs)("p",{className:"text-studio-muted",children:[(0,a.jsx)("strong",{children:"What it means:"})," How well did the AI combine all the data into a final assessment?"]}),(0,a.jsxs)("div",{className:"mt-2 bg-black/30 p-2 rounded",children:[(0,a.jsx)("p",{className:"text-studio-muted text-xs mb-2",children:(0,a.jsx)("strong",{children:"Checks if the output has:"})}),(0,a.jsxs)("ul",{className:"space-y-1 text-studio-muted text-xs",children:[(0,a.jsx)("li",{children:"• A clear risk level"}),(0,a.jsx)("li",{children:"• A credit score with justification"}),(0,a.jsx)("li",{children:"• Specific recommendations"}),(0,a.jsx)("li",{children:"• Reasoning that matches the data"})]}),(0,a.jsx)("p",{className:"text-studio-muted text-xs mt-2",children:"Low score means: The AI might have skipped some output fields or the reasoning doesn't fully explain the conclusion."})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-studio-accent mb-1",children:"Overall Score"}),(0,a.jsxs)("p",{className:"text-studio-muted",children:[(0,a.jsx)("strong",{children:"What it means:"})," The average of Tool Selection, Data Quality, and Synthesis scores."]}),(0,a.jsxs)("ul",{className:"mt-2 space-y-1 text-studio-muted",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-green-400",children:"80-100%"})," = Excellent analysis - trust the results"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-yellow-400",children:"60-79%"})," = Good analysis - minor issues"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-orange-400",children:"40-59%"})," = Fair analysis - review manually"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"text-red-400",children:"0-39%"})," = Poor analysis - may need to re-run or check manually"]})]})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-studio-accent font-semibold mb-3 text-base",children:"❓ Common Questions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-white mb-1",children:"Why is my Eval Score 0%?"}),(0,a.jsx)("p",{className:"text-studio-muted",children:"The evaluation step may not have completed or saved. This is a technical issue and doesn't affect the actual credit analysis. Your Risk Level and Credit Score are still valid."})]}),(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-white mb-1",children:"Why is Tool Selection low?"}),(0,a.jsx)("p",{className:"text-studio-muted",children:"Either: (1) Some data sources were unavailable, (2) The company type didn't match available tools (e.g., private company with no SEC filings), or (3) The AI chose unnecessary tools."})]}),(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-white mb-1",children:"Can I trust a low-confidence result?"}),(0,a.jsx)("p",{className:"text-studio-muted",children:"Use it as a starting point, but verify with your own research. Low confidence usually means limited public data is available for that company."})]}),(0,a.jsxs)("div",{className:"p-3 bg-studio-panel rounded border border-studio-border",children:[(0,a.jsx)("h4",{className:"font-medium text-white mb-1",children:"What data sources are used?"}),(0,a.jsx)("p",{className:"text-studio-muted",children:"SEC filings, Finnhub financial data, Tavily web search, CourtListener legal records, and more. Check the Traces tab to see exactly which sources were used."})]})]})]})]})]})}):null},F=e=>{{let t="https:"===window.location.protocol?"wss:":"ws:";return"".concat(t,"//").concat(window.location.host).concat(e)}};function I(){var e,t,s,d,n;let[R,I]=(0,l.useState)("single"),[E,L]=(0,l.useState)("result"),[P,q]=(0,l.useState)(""),[W,z]=(0,l.useState)(!1),[O,H]=(0,l.useState)(null),[V,B]=(0,l.useState)([]),[Q,G]=(0,l.useState)(null),[J,U]=(0,l.useState)(new Set),[K,X]=(0,l.useState)([""]),[Y,$]=(0,l.useState)([]),[ee,et]=(0,l.useState)(!1),[es,ea]=(0,l.useState)({current:0,total:0}),[el,ed]=(0,l.useState)([]),[er,en]=(0,l.useState)(null),[ei,eo]=(0,l.useState)(null),[ec,eu]=(0,l.useState)([]),[ex,em]=(0,l.useState)(null),[eh,ep]=(0,l.useState)(!1),[eb,ej]=(0,l.useState)([]),[eN,ey]=(0,l.useState)(""),[eg,ef]=(0,l.useState)(!1),ev=(0,l.useRef)(null),ew=(0,l.useRef)(null);(0,l.useEffect)(()=>{var e;null===(e=ew.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[V]),(0,l.useEffect)(()=>{ek()},[]),(0,l.useEffect)(()=>{(null==O?void 0:O.status)==="completed"&&O.run_id&&e_(O.run_id)},[null==O?void 0:O.status,null==O?void 0:O.run_id]);let ek=async e=>{try{let t=new URLSearchParams({limit:"50"});e&&t.append("search",e);let s=await fetch("".concat("","/logs/runs/history?").concat(t));if(s.ok){let e=await s.json();e.runs&&ej(e.runs.map(e=>({run_id:e.run_id,company_name:e.company_name,status:e.status||"completed",risk_level:e.risk_level,credit_score:e.credit_score,evaluation_score:e.overall_score,started_at:e.timestamp||new Date().toISOString(),completed_at:e.timestamp||new Date().toISOString(),duration_ms:e.duration_ms})))}}catch(e){console.error("Failed to fetch historical runs:",e)}},e_=async e=>{ep(!0);try{let t=await fetch("".concat("","/logs/traces/").concat(e));if(t.ok){let e=await t.json();eu(e.traces||[])}let s=await fetch("".concat("","/logs/evaluations/").concat(e));if(s.ok){let e=await s.json();em(e.evaluation)}}catch(e){console.error("Failed to fetch traces/eval:",e)}finally{ep(!1)}},eS=(0,l.useCallback)((e,t,s)=>{B(a=>[...a,{timestamp:new Date().toISOString(),type:e,message:t,data:s}])},[]),eC=e=>{U(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})};(0,l.useEffect)(()=>{if(null==O?void 0:O.steps){let e=O.steps.find(e=>"evaluate"===e.step_id);(null==e?void 0:e.output_data)&&eo({tool_selection_score:e.output_data.tool_selection_score||0,data_quality_score:e.output_data.data_quality_score||0,synthesis_score:e.output_data.synthesis_score||0,overall_score:e.output_data.overall_score||0,tool_selection:e.output_data.tool_selection,data_quality:e.output_data.data_quality,synthesis:e.output_data.synthesis})}},[O]),(0,l.useEffect)(()=>{if((null==O?void 0:O.status)==="completed"||(null==O?void 0:O.status)==="failed"){var e,t,s;let a={run_id:O.run_id,company_name:O.company_name,status:O.status,risk_level:null===(e=O.result)||void 0===e?void 0:e.risk_level,credit_score:null===(t=O.result)||void 0===t?void 0:t.credit_score,evaluation_score:null===(s=O.result)||void 0===s?void 0:s.evaluation_score,started_at:O.started_at,completed_at:O.completed_at,duration_ms:O.completed_at&&O.started_at?new Date(O.completed_at).getTime()-new Date(O.started_at).getTime():void 0};ed(e=>[a,...e.filter(e=>e.run_id!==O.run_id)])}},[null==O?void 0:O.status]);let eA=(0,l.useCallback)(e=>{let t=F("/ws/".concat(e));eS("system","Connecting to WebSocket: ".concat(t));let s=new WebSocket(t);s.onopen=()=>{eS("system","WebSocket connected")},s.onmessage=e=>{var t,a,l;let d=JSON.parse(e.data);switch(d.type){case"current_state":case"workflow_started":H(d.data),eS("workflow","Workflow started for ".concat(d.data.company_name));break;case"step_update":H(e=>{if(!e)return e;let t=[...e.steps],s={...d.data.step,output_data:d.data.output_data||d.data.step.output_data};return t[d.data.step_index]=s,{...e,steps:t,current_step:d.data.step.name}});let r=d.data.step;"running"===r.status?(eS("step","Starting: ".concat(r.name),r),U(e=>new Set([...e,r.step_id]))):"completed"===r.status?eS("step","Completed: ".concat(r.name," (").concat(null===(t=r.duration_ms)||void 0===t?void 0:t.toFixed(0),"ms)"),r):"failed"===r.status&&eS("error","Failed: ".concat(r.name," - ").concat(r.error),r);break;case"step_output":H(e=>{if(!e)return e;let t=[...e.steps],s=t.findIndex(e=>e.step_id===d.data.step_id);return s>=0&&(t[s]={...t[s],input_data:d.data.input,output_data:d.data.output}),{...e,steps:t}});break;case"workflow_completed":H(d.data),z(!1),eS("success","Workflow completed! Risk: ".concat(null===(a=d.data.result)||void 0===a?void 0:a.risk_level,", Score: ").concat(null===(l=d.data.result)||void 0===l?void 0:l.credit_score));break;case"workflow_failed":H(d.data.status),z(!1),G(d.data.error),eS("error","Workflow failed: ".concat(d.data.error));break;case"api_error":let n=d.data,i="rate_limit"===n.error_type?"Rate Limit":"quota_exceeded"===n.error_type?"Quota Exceeded":"API Error";eS("warning","".concat(i,": ").concat(n.message)),G("".concat(i,": ").concat(n.message));break;case"ping":s.send("pong")}},s.onerror=()=>{eS("error","WebSocket error")},s.onclose=()=>{eS("system","WebSocket disconnected")},ev.current=s},[eS]),eT=async()=>{if(!P.trim()){G("Please enter a company name");return}G(null),z(!0),H(null),B([]),U(new Set),eo(null),L("result"),eS("system","Starting analysis for: ".concat(P));try{let e=await fetch("".concat("","/analyze"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_name:P})});if(!e.ok)throw Error("API error: ".concat(e.statusText));let t=await e.json();eS("system","Run started: ".concat(t.run_id)),eA(t.run_id)}catch(e){G(e.message),z(!1),eS("error","Failed to start: ".concat(e.message))}},eR=async()=>{let e=K.filter(e=>e.trim());if(0===e.length){G("Please enter at least one company name");return}G(null),et(!0),$([]),ea({current:0,total:e.length});for(let t=0;t<e.length;t++){ea({current:t+1,total:e.length});try{let s=await fetch("".concat("","/analyze"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_name:e[t]})});if(!s.ok)throw Error("API error: ".concat(s.statusText));let a=await s.json(),l=null;for(let e=0;e<120;e++){await new Promise(e=>setTimeout(e,1e3));let e=await fetch("".concat("","/status/").concat(a.run_id));if(e.ok&&((null==(l=await e.json())?void 0:l.status)==="completed"||(null==l?void 0:l.status)==="failed"))break}l&&$(e=>[...e,l])}catch(s){console.error("Failed to analyze ".concat(e[t],":"),s)}}et(!1)},eD=()=>{ev.current&&(ev.current.close(),ev.current=null),z(!1),eS("system","Analysis stopped by user")},eZ=e=>{X(t=>t.filter((t,s)=>s!==e))},eM=(e,t)=>{X(s=>s.map((s,a)=>a===e?t:s))},eF=e=>{switch(e){case"pending":default:return(0,a.jsx)(i,{className:"w-4 h-4 text-studio-muted"});case"running":return(0,a.jsx)(o.Z,{className:"w-4 h-4 text-studio-accent animate-spin"});case"completed":return(0,a.jsx)(c,{className:"w-4 h-4 text-green-500"});case"failed":return(0,a.jsx)(u,{className:"w-4 h-4 text-red-500"})}},eI=e=>{switch(null==e?void 0:e.toLowerCase()){case"low":return"text-green-400 bg-green-900/20 border-green-800";case"medium":return"text-yellow-400 bg-yellow-900/20 border-yellow-800";case"high":return"text-orange-400 bg-orange-900/20 border-orange-800";case"critical":return"text-red-400 bg-red-900/20 border-red-800";default:return"text-gray-400 bg-gray-900/20 border-gray-800"}},eE=e=>void 0===e?"N/A":"".concat((100*e).toFixed(0),"%");return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-studio-bg",children:[(0,a.jsx)("header",{className:"border-b border-studio-border px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(x,{className:"w-6 h-6 text-studio-accent"}),(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Credit Intelligence Playground"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(D(),{href:"/prompts",className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-studio-panel hover:bg-studio-border rounded transition-colors",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"Prompts"]}),(0,a.jsxs)(D(),{href:"/settings",className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-studio-panel hover:bg-studio-border rounded transition-colors",children:[(0,a.jsx)(h,{className:"w-4 h-4"}),"Settings"]}),(0,a.jsxs)("button",{onClick:()=>ef(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-yellow-600 hover:bg-yellow-700 rounded transition-colors",children:[(0,a.jsx)(r,{className:"w-4 h-4"}),"Help"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-studio-muted",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(W||ee?"bg-green-500 animate-pulse":"bg-gray-500")}),W||ee?"Running":"Idle"]})]})]})}),(0,a.jsx)("div",{className:"border-b border-studio-border px-6",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>I("single"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("single"===R?"border-studio-accent text-studio-accent":"border-transparent text-studio-muted hover:text-white"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"w-4 h-4"}),"Single Analysis"]})}),(0,a.jsx)("button",{onClick:()=>I("batch"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("batch"===R?"border-studio-accent text-studio-accent":"border-transparent text-studio-muted hover:text-white"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b,{className:"w-4 h-4"}),"Batch Analysis"]})}),(0,a.jsx)("button",{onClick:()=>I("history"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("history"===R?"border-studio-accent text-studio-accent":"border-transparent text-studio-muted hover:text-white"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i,{className:"w-4 h-4"}),"Run History (",el.length,")"]})})]})}),(0,a.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:["single"===R&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-96 border-r border-studio-border flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-studio-border",children:[(0,a.jsx)("label",{className:"block text-sm text-studio-muted mb-2",children:"Company Name"}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("input",{type:"text",value:P,onChange:e=>q(e.target.value),placeholder:"e.g., Netflix, Apple, Tesla",className:"flex-1 bg-studio-panel border border-studio-border rounded px-3 py-2 text-sm focus:outline-none focus:border-studio-accent",disabled:W,onKeyDown:e=>"Enter"===e.key&&!W&&eT()})}),(0,a.jsxs)("div",{className:"flex gap-2 mt-3",children:[W?(0,a.jsxs)("button",{onClick:eD,className:"flex-1 flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 rounded px-4 py-2 text-sm font-medium transition-colors",children:[(0,a.jsx)(N,{className:"w-4 h-4"}),"Stop"]}):(0,a.jsxs)("button",{onClick:eT,disabled:!P.trim(),className:"flex-1 flex items-center justify-center gap-2 bg-studio-accent hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed rounded px-4 py-2 text-sm font-medium transition-colors",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),"Run Analysis"]}),(0,a.jsx)("button",{onClick:()=>{eD(),H(null),B([]),G(null),q(""),U(new Set),eo(null)},className:"p-2 text-studio-muted hover:text-white transition-colors",title:"Reset",children:(0,a.jsx)(y.Z,{className:"w-4 h-4"})})]}),Q&&(0,a.jsx)("div",{className:"mt-3 p-2 rounded text-sm ".concat(Q.includes("Rate Limit")||Q.includes("Quota Exceeded")?"bg-orange-900/30 border border-orange-800 text-orange-400":"bg-red-900/30 border border-red-800 text-red-400"),children:Q})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto p-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-studio-muted mb-3 flex items-center gap-2",children:[(0,a.jsx)(g,{className:"w-4 h-4"}),"Workflow Pipeline"]}),(null==O?void 0:O.steps)&&O.steps.length>0?(0,a.jsx)("div",{className:"space-y-2",children:O.steps.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{onClick:()=>eC(e.step_id),className:"p-3 rounded border cursor-pointer transition-all ".concat("running"===e.status?"border-studio-accent bg-studio-accent/10 pulse-glow":"completed"===e.status?"border-green-800 bg-green-900/20 hover:bg-green-900/30":"failed"===e.status?"border-red-800 bg-red-900/20 hover:bg-red-900/30":"border-studio-border bg-studio-panel hover:bg-studio-border/50"," ").concat(J.has(e.step_id)?"rounded-b-none":""),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[eF(e.status),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,a.jsx)("span",{className:"text-xs text-studio-muted font-mono",children:e.agent_name})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.duration_ms&&(0,a.jsxs)("span",{className:"text-xs text-studio-muted",children:[e.duration_ms.toFixed(0),"ms"]}),"pending"!==e.status&&(J.has(e.step_id)?(0,a.jsx)(f.Z,{className:"w-4 h-4 text-studio-muted"}):(0,a.jsx)(v,{className:"w-4 h-4 text-studio-muted"}))]})]}),e.error&&(0,a.jsx)("div",{className:"text-xs text-red-400 mt-2 ml-6",children:e.error})]}),J.has(e.step_id)&&"pending"!==e.status&&(0,a.jsxs)("div",{className:"border border-t-0 border-studio-border rounded-b bg-black/50 p-3 max-h-64 overflow-auto",children:[e.output_summary&&(0,a.jsxs)("div",{className:"mb-2 p-2 bg-studio-accent/10 rounded border border-studio-accent/30",children:[(0,a.jsx)("div",{className:"text-xs text-studio-accent font-medium",children:"Summary"}),(0,a.jsx)("div",{className:"text-sm text-white",children:e.output_summary})]}),e.output_data&&Object.keys(e.output_data).length>0&&(0,a.jsx)("div",{className:"space-y-1",children:Object.entries(e.output_data).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsxs)("span",{className:"text-yellow-400 font-mono",children:[t,":"]})," ",(0,a.jsx)("pre",{className:"text-green-300 whitespace-pre-wrap break-all inline",children:"object"==typeof s?JSON.stringify(s,null,2):String(s)})]},t)})})]})]},e.step_id))}):(0,a.jsx)("div",{className:"text-center py-8 text-studio-muted text-sm",children:'Enter a company name and click "Run Analysis" to start'})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[O&&(0,a.jsx)("div",{className:"border-b border-studio-border px-4",children:(0,a.jsx)("div",{className:"flex gap-1",children:["result","evaluation","traces","pipeline"].map(e=>(0,a.jsxs)("button",{onClick:()=>L(e),className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors capitalize ".concat(E===e?"border-studio-accent text-studio-accent":"border-transparent text-studio-muted hover:text-white"),children:["result"===e&&(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),"Result"]}),"evaluation"===e&&(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(k,{className:"w-4 h-4"}),"Evaluation"]}),"traces"===e&&(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.Z,{className:"w-4 h-4"}),"Traces"]}),"pipeline"===e&&(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{className:"w-4 h-4"}),"Pipeline"]})]},e))})}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto p-4",children:["result"===E&&(null==O?void 0:O.result)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(p,{className:"w-5 h-5"}),"Assessment: ",O.company_name]}),O.run_id&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-studio-panel px-3 py-1.5 rounded border border-studio-border",children:[(0,a.jsx)("span",{className:"text-studio-muted",children:"Run ID:"}),(0,a.jsx)("code",{className:"text-studio-accent font-mono",children:O.run_id}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(O.run_id)},className:"ml-1 px-2 py-0.5 bg-studio-accent/20 hover:bg-studio-accent/30 text-studio-accent rounded text-xs",children:"Copy"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border ".concat(eI(O.result.risk_level)),children:[(0,a.jsxs)("div",{className:"text-sm text-studio-muted mb-1 flex items-center",children:["Risk Level",(0,a.jsx)(Z,{text:"How risky is it to give credit to this company?\\n\\n• Low = Very safe\\n• Medium = Some concerns\\n• High = Significant risk\\n• Critical = Very dangerous"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold capitalize",children:O.result.risk_level})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm text-studio-muted mb-1 flex items-center",children:["Credit Score",(0,a.jsx)(Z,{text:"Business credit score (0-1000).\\n\\n• 800-1000 = Excellent\\n• 650-799 = Good\\n• 500-649 = Fair\\n• 350-499 = Poor\\n• 0-349 = Very Poor"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-studio-accent",children:O.result.credit_score})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm text-studio-muted mb-1 flex items-center",children:["Confidence",(0,a.jsx)(Z,{text:"How confident is the AI about this result?\\n\\n• 80-100% = Very confident\\n• 60-79% = Moderate\\n• 40-59% = Low\\n• 0-39% = Very uncertain\\n\\nLow confidence = limited data available."})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[(100*O.result.confidence).toFixed(0),"%"]})]})]}),O.result.reasoning&&(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm text-studio-muted mb-2 flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),"Analysis Summary"]}),(0,a.jsx)("p",{className:"text-sm",children:O.result.reasoning})]}),(null===(e=O.result.recommendations)||void 0===e?void 0:e.length)>0&&(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm text-studio-muted mb-2 flex items-center gap-2",children:[(0,a.jsx)(S,{className:"w-4 h-4"}),"Recommendations"]}),(0,a.jsx)("ul",{className:"text-sm space-y-1",children:O.result.recommendations.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)(v,{className:"w-4 h-4 mt-0.5 text-studio-muted"}),e]},t))})]})]}),"evaluation"===E&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(k,{className:"w-5 h-5"}),"Evaluation Summary"]}),ei||ex?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm text-studio-muted mb-1 flex items-center",children:["Tool Selection",(0,a.jsx)(Z,{text:"Did the AI use the right data sources?\\n\\nCalculated using:\\n• Precision: Were the tools useful?\\n• Recall: Did it use all needed tools?\\n• F1: Balance of both\\n\\nLow score = wrong or missing data sources"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:eE(null!==(t=null==ei?void 0:ei.tool_selection_score)&&void 0!==t?t:null==ex?void 0:ex.tool_selection_score)})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm text-studio-muted mb-1 flex items-center",children:["Data Quality",(0,a.jsx)(Z,{text:"Was the gathered data good enough?\\n\\nChecks:\\n• Completeness of data\\n• Number of sources used\\n• Data freshness\\n\\nLow score = missing data or outdated info"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:eE(null!==(s=null==ei?void 0:ei.data_quality_score)&&void 0!==s?s:null==ex?void 0:ex.data_quality_score)})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm text-studio-muted mb-1 flex items-center",children:["Synthesis",(0,a.jsx)(Z,{text:"Did the AI create a good final report?\\n\\nChecks if output has:\\n• Clear risk level\\n• Justified credit score\\n• Recommendations\\n• Proper reasoning\\n\\nLow score = incomplete report"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-green-400",children:eE(null!==(d=null==ei?void 0:ei.synthesis_score)&&void 0!==d?d:null==ex?void 0:ex.synthesis_score)})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm text-studio-muted mb-1 flex items-center",children:["Overall",(0,a.jsx)(Z,{text:"Average of all evaluation scores.\\n\\n• 80-100% = Excellent analysis\\n• 60-79% = Good analysis\\n• 40-59% = Fair - review manually\\n• 0-39% = Poor - may need re-run"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-studio-accent",children:eE(null!==(n=null==ei?void 0:ei.overall_score)&&void 0!==n?n:null==ex?void 0:ex.overall_score)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[((null==ei?void 0:ei.tool_selection)||(null==ex?void 0:ex.tool_selection))&&(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm font-medium mb-2 text-blue-400 flex items-center",children:["Tool Selection Details",(0,a.jsx)(Z,{text:"Shows how the score was calculated:\\n\\n• Precision: Of tools used, how many were useful?\\n• Recall: Did it use all the tools it should?\\n• F1: The balance between precision and recall"})]}),(0,a.jsx)("div",{className:"text-xs space-y-1 text-studio-muted",children:(()=>{let e=(null==ei?void 0:ei.tool_selection)||(null==ex?void 0:ex.tool_selection)||{};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"Precision:"})," ",(100*(e.precision||0)).toFixed(0),"% ",(0,a.jsx)("span",{className:"text-studio-muted",children:"(useful tools / total used)"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"Recall:"})," ",(100*(e.recall||0)).toFixed(0),"% ",(0,a.jsx)("span",{className:"text-studio-muted",children:"(used tools / needed tools)"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"F1:"})," ",(100*(e.f1_score||0)).toFixed(0),"% ",(0,a.jsx)("span",{className:"text-studio-muted",children:"(balanced score)"})]}),e.reasoning&&(0,a.jsx)("p",{className:"mt-2 text-white",children:e.reasoning})]})})()})]}),((null==ei?void 0:ei.data_quality)||(null==ex?void 0:ex.data_quality))&&(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm font-medium mb-2 text-purple-400 flex items-center",children:["Data Quality Details",(0,a.jsx)(Z,{text:"Shows data gathering results:\\n\\n• Sources: Which data sources provided info\\n• Completeness: % of expected data fields found\\n\\nMore sources + higher completeness = better score"})]}),(0,a.jsx)("div",{className:"text-xs space-y-1 text-studio-muted",children:(()=>{var e;let t=(null==ei?void 0:ei.data_quality)||(null==ex?void 0:ex.data_quality)||{};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"Sources:"})," ",(null===(e=t.sources_used)||void 0===e?void 0:e.join(", "))||"N/A"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"Completeness:"})," ",(100*(t.completeness||0)).toFixed(0),"% ",(0,a.jsx)("span",{className:"text-studio-muted",children:"(data fields found)"})]}),t.reasoning&&(0,a.jsx)("p",{className:"mt-2 text-white",children:t.reasoning})]})})()})]}),((null==ei?void 0:ei.synthesis)||(null==ex?void 0:ex.synthesis))&&(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"text-sm font-medium mb-2 text-green-400 flex items-center",children:["Synthesis Details",(0,a.jsx)(Z,{text:"Shows final report quality:\\n\\n• Score: Overall synthesis quality\\n• Fields: Which required output fields are present\\n\\nAll fields present = higher score"})]}),(0,a.jsx)("div",{className:"text-xs space-y-1 text-studio-muted",children:(()=>{var e;let t=(null==ei?void 0:ei.synthesis)||(null==ex?void 0:ex.synthesis)||{};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"Score:"})," ",(100*(t.score||0)).toFixed(0),"% ",(0,a.jsx)("span",{className:"text-studio-muted",children:"(report quality)"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"Fields:"})," ",(null===(e=t.present_fields)||void 0===e?void 0:e.join(", "))||"N/A"]}),t.reasoning&&(0,a.jsx)("p",{className:"mt-2 text-white",children:t.reasoning})]})})()})]})]}),ex&&(0,a.jsxs)("div",{className:"text-xs text-studio-muted flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Source: MongoDB"}),(0,a.jsx)("span",{children:"|"}),(0,a.jsxs)("span",{children:["Evaluated: ",ex.evaluated_at?new Date(ex.evaluated_at).toLocaleString():"N/A"]})]})]}):(0,a.jsxs)("div",{className:"text-center py-12 text-studio-muted",children:[(0,a.jsx)(C,{className:"w-8 h-8 mx-auto mb-3 text-yellow-500"}),(0,a.jsx)("p",{className:"font-medium text-white mb-2",children:"No evaluation data available"}),(0,a.jsx)("p",{className:"text-sm max-w-md mx-auto",children:"Run an analysis first. If Eval Score shows 0% after running, it means the evaluation step hasn't saved data yet - this is normal and doesn't affect your credit analysis results."})]})]}),"traces"===E&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(_.Z,{className:"w-5 h-5"}),"Execution Traces",eh&&(0,a.jsx)(o.Z,{className:"w-4 h-4 animate-spin ml-2"})]}),ec.length>0&&(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsx)("h3",{className:"text-sm font-medium mb-3 text-purple-400",children:"LangGraph Events"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-xs",children:[(0,a.jsx)("thead",{className:"bg-black/30",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-2 text-studio-muted",children:"Timestamp"}),(0,a.jsx)("th",{className:"text-left p-2 text-studio-muted",children:"Event"}),(0,a.jsx)("th",{className:"text-left p-2 text-studio-muted",children:"Type"}),(0,a.jsx)("th",{className:"text-left p-2 text-studio-muted",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-2 text-studio-muted",children:"Duration"}),(0,a.jsx)("th",{className:"text-left p-2 text-studio-muted",children:"Model"}),(0,a.jsx)("th",{className:"text-left p-2 text-studio-muted",children:"Tokens"})]})}),(0,a.jsx)("tbody",{children:ec.slice(0,50).map((e,t)=>(0,a.jsxs)("tr",{className:"border-t border-studio-border/50 hover:bg-black/20",children:[(0,a.jsx)("td",{className:"p-2 text-studio-muted font-mono",children:new Date(e.timestamp).toLocaleTimeString()}),(0,a.jsx)("td",{className:"p-2 text-white",children:e.event_name}),(0,a.jsx)("td",{className:"p-2",children:(0,a.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-blue-900/30 text-blue-400",children:e.event_type})}),(0,a.jsx)("td",{className:"p-2",children:(0,a.jsx)("span",{className:"px-1.5 py-0.5 rounded ".concat("success"===e.status||"completed"===e.status?"bg-green-900/30 text-green-400":"error"===e.status||"failed"===e.status?"bg-red-900/30 text-red-400":"bg-gray-900/30 text-gray-400"),children:e.status})}),(0,a.jsx)("td",{className:"p-2 text-studio-muted",children:e.duration_ms?"".concat(e.duration_ms.toFixed(0),"ms"):"-"}),(0,a.jsx)("td",{className:"p-2 text-studio-muted",children:e.model||"-"}),(0,a.jsx)("td",{className:"p-2 text-studio-muted",children:e.tokens||"-"})]},e._id||t))})]})}),ec.length>50&&(0,a.jsxs)("div",{className:"text-xs text-studio-muted mt-2",children:["Showing 50 of ",ec.length," events"]})]}),(0,a.jsxs)("div",{className:"bg-black/50 rounded-lg border border-studio-border p-4 max-h-[400px] overflow-auto",children:[(0,a.jsx)("h3",{className:"text-sm font-medium mb-3 text-green-400",children:"WebSocket Logs"}),V.length>0?(0,a.jsxs)("div",{className:"space-y-1 font-mono text-xs",children:[V.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("span",{className:"text-studio-muted w-24 flex-shrink-0",children:new Date(e.timestamp).toLocaleTimeString()}),(0,a.jsxs)("span",{className:"w-16 flex-shrink-0 ".concat("error"===e.type?"text-red-400":"warning"===e.type?"text-orange-400":"success"===e.type?"text-green-400":"step"===e.type?"text-studio-accent":"workflow"===e.type?"text-purple-400":"output"===e.type?"text-yellow-400":"text-studio-muted"),children:["[",e.type,"]"]}),(0,a.jsx)("span",{className:"text-white",children:e.message})]},t)),(0,a.jsx)("div",{ref:ew})]}):(0,a.jsx)("div",{className:"text-center py-4 text-studio-muted",children:"No local logs yet."})]}),(null==O?void 0:O.run_id)&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-studio-muted",children:[(0,a.jsxs)("span",{children:["Run ID: ",O.run_id]}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(O.run_id),className:"text-studio-accent hover:underline",children:"Copy"}),(0,a.jsxs)("button",{onClick:()=>e_(O.run_id),className:"ml-4 text-studio-accent hover:underline flex items-center gap-1",children:[(0,a.jsx)(y.Z,{className:"w-3 h-3"}),"Refresh Traces"]})]})]}),"pipeline"===E&&O&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(g,{className:"w-5 h-5"}),"Pipeline Overview"]}),(0,a.jsx)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:(0,a.jsx)("div",{className:"flex items-center justify-between gap-2 overflow-x-auto",children:O.steps.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center p-3 rounded-lg min-w-[120px] ".concat("completed"===e.status?"bg-green-900/30 border border-green-800":"running"===e.status?"bg-blue-900/30 border border-blue-800":"failed"===e.status?"bg-red-900/30 border border-red-800":"bg-gray-900/30 border border-gray-800"),children:[eF(e.status),(0,a.jsx)("span",{className:"text-xs mt-2 text-center",children:e.name}),(0,a.jsx)("span",{className:"text-[10px] text-studio-muted font-mono",children:e.agent_name}),e.duration_ms&&(0,a.jsxs)("span",{className:"text-xs text-studio-muted",children:[e.duration_ms.toFixed(0),"ms"]})]}),t<O.steps.length-1&&(0,a.jsx)(v,{className:"w-4 h-4 text-studio-muted mx-2"})]},e.step_id))})}),(0,a.jsx)("div",{className:"rounded-lg border border-studio-border overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-studio-panel",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Step"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Agent"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Duration"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Output"})]})}),(0,a.jsx)("tbody",{children:O.steps.map(e=>(0,a.jsxs)("tr",{className:"border-t border-studio-border",children:[(0,a.jsx)("td",{className:"p-3 font-medium",children:e.name}),(0,a.jsx)("td",{className:"p-3 font-mono text-xs text-studio-muted",children:e.agent_name}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-900/50 text-green-400":"running"===e.status?"bg-blue-900/50 text-blue-400":"failed"===e.status?"bg-red-900/50 text-red-400":"bg-gray-900/50 text-gray-400"),children:e.status})}),(0,a.jsx)("td",{className:"p-3 text-studio-muted",children:e.duration_ms?"".concat(e.duration_ms.toFixed(0),"ms"):"-"}),(0,a.jsx)("td",{className:"p-3 text-studio-muted text-xs whitespace-pre-wrap break-all",children:e.output_summary||(e.error?"Error: ".concat(e.error):"-")})]},e.step_id))})]})})]}),!O&&(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-studio-muted",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(x,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"Enter a company name and run an analysis to see results"})]})})]})]})]}),"batch"===R&&(0,a.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(b,{className:"w-5 h-5"}),"Batch Company Analysis"]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("label",{className:"text-sm text-studio-muted",children:"Companies to Analyze"}),(0,a.jsxs)("button",{onClick:()=>{X(e=>[...e,""])},className:"text-sm text-studio-accent hover:underline flex items-center gap-1",disabled:ee,children:[(0,a.jsx)(A,{className:"w-4 h-4"}),"Add Company"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:K.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>eM(t,e.target.value),placeholder:"Company ".concat(t+1),className:"flex-1 bg-black/50 border border-studio-border rounded px-3 py-2 text-sm focus:outline-none focus:border-studio-accent",disabled:ee}),K.length>1&&(0,a.jsx)("button",{onClick:()=>eZ(t),className:"p-2 text-red-400 hover:text-red-300",disabled:ee,children:(0,a.jsx)(T,{className:"w-4 h-4"})})]},t))}),(0,a.jsx)("div",{className:"flex gap-2 mt-4",children:(0,a.jsx)("button",{onClick:eR,disabled:ee||K.every(e=>!e.trim()),className:"flex-1 flex items-center justify-center gap-2 bg-studio-accent hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed rounded px-4 py-2 text-sm font-medium",children:ee?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 animate-spin"}),"Running ",es.current,"/",es.total,"..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),"Run Batch Analysis"]})})})]}),Y.length>0&&(0,a.jsxs)("div",{className:"rounded-lg border border-studio-border overflow-hidden",children:[(0,a.jsx)("div",{className:"p-3 bg-studio-panel border-b border-studio-border flex items-center justify-between",children:(0,a.jsxs)("h3",{className:"font-medium",children:["Batch Results (",Y.length,")"]})}),(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-studio-panel/50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Run ID"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Company"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Risk"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Score"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Confidence"})]})}),(0,a.jsx)("tbody",{children:Y.map(e=>{var t,s,l,d;return(0,a.jsxs)("tr",{className:"border-t border-studio-border hover:bg-studio-panel/30",children:[(0,a.jsx)("td",{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("code",{className:"text-xs font-mono text-studio-accent bg-studio-panel px-1.5 py-0.5 rounded break-all",title:e.run_id,children:e.run_id}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(e.run_id),className:"text-xs text-studio-muted hover:text-studio-accent px-1",title:"Copy full Run ID",children:"Copy"})]})}),(0,a.jsx)("td",{className:"p-3 font-medium",children:e.company_name}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"),children:e.status})}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(eI((null===(t=e.result)||void 0===t?void 0:t.risk_level)||"")),children:(null===(s=e.result)||void 0===s?void 0:s.risk_level)||"N/A"})}),(0,a.jsx)("td",{className:"p-3",children:(null===(l=e.result)||void 0===l?void 0:l.credit_score)||"N/A"}),(0,a.jsx)("td",{className:"p-3",children:(null===(d=e.result)||void 0===d?void 0:d.confidence)?"".concat((100*e.result.confidence).toFixed(0),"%"):"N/A"})]},e.run_id)})})]})]})]})}),"history"===R&&(0,a.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(i,{className:"w-5 h-5"}),"Session Runs (",el.length,")"]})}),el.length>0?(0,a.jsx)("div",{className:"rounded-lg border border-studio-border overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-studio-panel",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Run ID"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Company"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Risk"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Score"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Duration"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Time"})]})}),(0,a.jsx)("tbody",{children:el.map(e=>(0,a.jsxs)("tr",{className:"border-t border-studio-border hover:bg-studio-panel/30",children:[(0,a.jsx)("td",{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("code",{className:"text-xs font-mono text-studio-accent bg-studio-panel px-1.5 py-0.5 rounded break-all",title:e.run_id,children:e.run_id}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(e.run_id),className:"text-xs text-studio-muted hover:text-studio-accent px-1",title:"Copy full Run ID",children:"Copy"})]})}),(0,a.jsx)("td",{className:"p-3 font-medium",children:e.company_name}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"),children:e.status})}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(eI(e.risk_level||"")),children:e.risk_level||"N/A"})}),(0,a.jsx)("td",{className:"p-3",children:e.credit_score||"N/A"}),(0,a.jsx)("td",{className:"p-3 text-studio-muted",children:e.duration_ms?"".concat((e.duration_ms/1e3).toFixed(1),"s"):"-"}),(0,a.jsx)("td",{className:"p-3 text-studio-muted",children:new Date(e.completed_at||e.started_at).toLocaleString()})]},e.run_id))})]})}):(0,a.jsx)("div",{className:"text-center py-8 text-studio-muted border border-studio-border rounded-lg bg-studio-panel",children:(0,a.jsx)("p",{children:"No session runs yet. Run an analysis to see history."})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(x,{className:"w-5 h-5"}),"Historical Runs (",eb.length,")"]}),(0,a.jsxs)("button",{onClick:()=>ek(eN),className:"text-sm text-studio-accent hover:underline flex items-center gap-1",children:[(0,a.jsx)(y.Z,{className:"w-3 h-3"}),"Refresh"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsx)("input",{type:"text",value:eN,onChange:e=>ey(e.target.value),onKeyDown:e=>"Enter"===e.key&&ek(eN),placeholder:"Search by run ID or company name...",className:"flex-1 bg-studio-panel border border-studio-border rounded px-3 py-2 text-sm focus:outline-none focus:border-studio-accent"}),(0,a.jsx)("button",{onClick:()=>ek(eN),className:"px-4 py-2 bg-studio-accent hover:bg-blue-600 rounded text-sm font-medium transition-colors",children:"Search"}),eN&&(0,a.jsx)("button",{onClick:()=>{ey(""),ek()},className:"px-3 py-2 text-studio-muted hover:text-white transition-colors",title:"Clear search",children:"Clear"})]}),eb.length>0?(0,a.jsx)("div",{className:"rounded-lg border border-studio-border overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-studio-panel",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Run ID"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Company"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Risk"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Score"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Time"}),(0,a.jsx)("th",{className:"text-left p-3 text-studio-muted",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:eb.map(e=>(0,a.jsxs)("tr",{className:"border-t border-studio-border hover:bg-studio-panel/30",children:[(0,a.jsx)("td",{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("code",{className:"text-xs font-mono text-studio-accent bg-studio-panel px-1.5 py-0.5 rounded break-all",title:e.run_id,children:e.run_id}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(e.run_id),className:"text-xs text-studio-muted hover:text-studio-accent px-1",title:"Copy full Run ID",children:"Copy"})]})}),(0,a.jsx)("td",{className:"p-3 font-medium",children:e.company_name}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(eI(e.risk_level||"")),children:e.risk_level||"N/A"})}),(0,a.jsx)("td",{className:"p-3",children:e.credit_score||"N/A"}),(0,a.jsx)("td",{className:"p-3 text-studio-muted",children:new Date(e.completed_at||e.started_at).toLocaleString()}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("button",{onClick:()=>{q(e.company_name),I("single")},className:"text-studio-accent hover:underline text-xs",children:"Re-analyze"})})]},e.run_id))})]})}):(0,a.jsxs)("div",{className:"text-center py-8 text-studio-muted border border-studio-border rounded-lg bg-studio-panel",children:[(0,a.jsx)(i,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No historical data. Connect MongoDB to see past runs."})]})]})]})})]}),(0,a.jsx)(M,{isOpen:eg,onClose:()=>ef(!1)})]})}}},function(e){e.O(0,[238,971,458,744],function(){return e(e.s=8945)}),_N_E=e.O()}]);