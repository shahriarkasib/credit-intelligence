(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[794],{1981:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3067:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2442:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},3523:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},4900:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},6245:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},954:function(e,t,s){Promise.resolve().then(s.bind(s,5772))},5772:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(7437),r=s(2265),l=s(3067),n=s(6637),i=s(1981),o=s(2442),c=s(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var m=s(3523);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,c.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var p=s(6245);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,c.Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);var u=s(9670),y=s(4900),b=s(1396),g=s.n(b);function f(){let[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)(null),[b,f]=(0,r.useState)(null),[j,N]=(0,r.useState)(!0),[v,w]=(0,r.useState)(!1),[k,_]=(0,r.useState)(null),[S,Z]=(0,r.useState)(null),[P,C]=(0,r.useState)({}),[E,T]=(0,r.useState)(null),[M,F]=(0,r.useState)(!1),[O,z]=(0,r.useState)(!1),[A,L]=(0,r.useState)(new Set(["input","planning","synthesis","analysis","validation"]));(0,r.useEffect)(()=>{q()},[]);let q=async()=>{try{N(!0);let e=await fetch("".concat("","/prompts"));if(!e.ok)throw Error("Failed to fetch prompts");let s=await e.json();t(s.prompts)}catch(e){_(e instanceof Error?e.message:"Failed to fetch prompts")}finally{N(!1)}},H=e=>{c(e),f({...e}),T(null),F(!1);let t={};e.variables.forEach(e=>{t[e]=U(e)}),C(t)},U=e=>({company_name:"Apple Inc",context:'{"is_public": true, "industry": "Technology"}',tool_specs:"fetch_sec_data, fetch_market_data, web_search",tool_reasoning:"Public company with significant market presence",tool_results:'{"sec_data": {...}, "market_data": {...}}',company_data:'{"financials": {...}, "filings": [...]}',assessment:'{"risk_level": "LOW", "credit_score": 750}'})[e]||"Sample ".concat(e),V=async()=>{if(b)try{w(!0),_(null);let e=await fetch("".concat("","/prompts/").concat(b.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({system_prompt:b.system_prompt,user_template:b.user_template})});if(!e.ok)throw Error("Failed to save prompt");let t=await e.json();c(t.prompt),f(t.prompt),Z("Prompt saved successfully!"),q(),setTimeout(()=>Z(null),3e3)}catch(e){_(e instanceof Error?e.message:"Failed to save prompt")}finally{w(!1)}},I=async()=>{if(s)try{w(!0),_(null);let e=await fetch("".concat("","/prompts/").concat(s.id,"/reset"),{method:"POST"});if(!e.ok)throw Error("Failed to reset prompt");let t=await e.json();c(t.prompt),f(t.prompt),Z("Prompt reset to default!"),q(),setTimeout(()=>Z(null),3e3)}catch(e){_(e instanceof Error?e.message:"Failed to reset prompt")}finally{w(!1)}},J=async()=>{if(b)try{_(null);let e=await fetch("".concat("","/prompts/test"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt_id:b.id,variables:P})});if(!e.ok){let t=await e.json();throw Error(t.detail||"Failed to test prompt")}let t=await e.json();T(t),F(!0)}catch(e){_(e instanceof Error?e.message:"Failed to test prompt")}},R=e=>{let t=new Set(A);t.has(e)?t.delete(e):t.add(e),L(t)},D=e.reduce((e,t)=>{let s=t.category||"other";return e[s]||(e[s]=[]),e[s].push(t),e},{}),W={input:"Input Processing",planning:"Planning & Tool Selection",synthesis:"Synthesis & Assessment",analysis:"Analysis",validation:"Validation",other:"Other"};return j?(0,a.jsx)("div",{className:"min-h-screen bg-gray-950 text-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-950 text-white",children:[(0,a.jsx)("header",{className:"bg-gray-900 border-b border-gray-800 px-6 py-4",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(g(),{href:"/",className:"text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(l.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.Z,{className:"w-6 h-6 text-blue-500"}),(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Prompt Management"})]})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[e.length," prompts available"]})]})}),k&&(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 pt-4",children:(0,a.jsxs)("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded-lg flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5"}),k]})}),S&&(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 pt-4",children:(0,a.jsxs)("div",{className:"bg-green-900/50 border border-green-700 text-green-200 px-4 py-3 rounded-lg flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),S]})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,a.jsxs)("div",{className:"col-span-4 bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-800",children:(0,a.jsx)("h2",{className:"font-medium",children:"Available Prompts"})}),(0,a.jsx)("div",{className:"max-h-[calc(100vh-16rem)] overflow-y-auto",children:Object.entries(D).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"border-b border-gray-800 last:border-b-0",children:[(0,a.jsxs)("button",{onClick:()=>R(t),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-800/50 transition-colors",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-400",children:W[t]||t}),A.has(t)?(0,a.jsx)(d,{className:"w-4 h-4 text-gray-500"}):(0,a.jsx)(m.Z,{className:"w-4 h-4 text-gray-500"})]}),A.has(t)&&(0,a.jsx)("div",{className:"pb-2",children:r.map(e=>(0,a.jsxs)("button",{onClick:()=>H(e),className:"w-full px-4 py-2 text-left transition-colors ".concat((null==s?void 0:s.id)===e.id?"bg-blue-600/20 border-l-2 border-blue-500":"hover:bg-gray-800/50 border-l-2 border-transparent"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:e.name}),e.is_custom&&(0,a.jsx)("span",{className:"text-xs bg-yellow-600/30 text-yellow-400 px-2 py-0.5 rounded",children:"Modified"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:e.description})]},e.id))})]},t)})})]}),(0,a.jsx)("div",{className:"col-span-8",children:s&&b?(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-medium text-lg",children:b.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:b.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[b.is_custom&&(0,a.jsxs)("button",{onClick:I,disabled:v,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 rounded transition-colors disabled:opacity-50",children:[(0,a.jsx)(x,{className:"w-4 h-4"}),"Reset"]}),(0,a.jsxs)("button",{onClick:V,disabled:v||!(s&&b&&(s.system_prompt!==b.system_prompt||s.user_template!==b.user_template)),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-500 rounded transition-colors disabled:opacity-50",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),v?"Saving...":"Save"]})]})]}),(0,a.jsxs)("div",{className:"p-4 border-b border-gray-800 bg-gray-800/30",children:[(0,a.jsx)("h3",{className:"text-sm font-medium mb-2 text-gray-400",children:"Variables"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:b.variables.map(e=>(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-700 rounded text-sm font-mono",children:"{"+e+"}"},e))})]}),(0,a.jsxs)("div",{className:"p-4 border-b border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"System Prompt"}),(0,a.jsx)(h,{className:"w-4 h-4 text-gray-500"})]}),(0,a.jsx)("textarea",{value:b.system_prompt,onChange:e=>f({...b,system_prompt:e.target.value}),className:"w-full h-48 bg-gray-800 border border-gray-700 rounded-lg p-3 text-sm font-mono focus:outline-none focus:border-blue-500 resize-y",placeholder:"Enter system prompt..."})]}),(0,a.jsx)("div",{className:"p-4 border-b border-gray-800",children:(0,a.jsxs)("button",{onClick:()=>z(!O),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-300 transition-colors",children:[O?(0,a.jsx)(d,{className:"w-4 h-4"}):(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"Advanced Options"]})}),O&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-800 bg-yellow-900/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-yellow-400",children:"User Template"}),(0,a.jsx)(i.Z,{className:"w-4 h-4 text-yellow-500"})]}),(0,a.jsxs)("p",{className:"text-xs text-yellow-600 mb-2",children:["⚠️ Contains ","{variable}"," placeholders. Modifying incorrectly may break the workflow."]}),(0,a.jsx)("textarea",{value:b.user_template,onChange:e=>f({...b,user_template:e.target.value}),className:"w-full h-48 bg-gray-800 border border-yellow-700 rounded-lg p-3 text-sm font-mono focus:outline-none focus:border-yellow-500 resize-y",placeholder:"Enter user template..."})]}),(0,a.jsxs)("div",{className:"p-4 border-b border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Test Prompt"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>F(!M),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 rounded transition-colors",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),M?"Hide Preview":"Show Preview"]}),(0,a.jsxs)("button",{onClick:J,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 hover:bg-green-500 rounded transition-colors",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Test"]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:b.variables.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:e}),(0,a.jsx)("input",{type:"text",value:P[e]||"",onChange:t=>C({...P,[e]:t.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter ".concat(e,"...")})]},e))}),M&&E&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3",children:[(0,a.jsx)("h4",{className:"text-xs font-medium text-blue-400 mb-2",children:"System Prompt Preview"}),(0,a.jsx)("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap font-mono",children:E.system_prompt})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3",children:[(0,a.jsx)("h4",{className:"text-xs font-medium text-green-400 mb-2",children:"User Prompt Preview"}),(0,a.jsx)("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap font-mono",children:E.user_prompt})]})]})]})]})]}):(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-12 text-center",children:[(0,a.jsx)(n.Z,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-400 mb-2",children:"No Prompt Selected"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Select a prompt from the sidebar to view and edit"})]})})]})})]})}}},function(e){e.O(0,[238,971,458,744],function(){return e(e.s=954)}),_N_E=e.O()}]);