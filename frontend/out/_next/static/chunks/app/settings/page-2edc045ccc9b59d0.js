(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{1981:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3067:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2442:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6264:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4280:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6245:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},9409:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1864:function(e,t,s){Promise.resolve().then(s.bind(s,4903))},4903:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(7437),l=s(2265),n=s(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n.Z)("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),r=(0,n.Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),d=(0,n.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),c=(0,n.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var o=s(6264),u=s(3067),m=s(9409),x=s(4280),h=s(1981),p=s(2442),b=s(2549);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,n.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var g=s(9670),y=s(6245),j=s(1396),N=s.n(j);function v(){let[e,t]=(0,l.useState)("llm"),[s,n]=(0,l.useState)(!0),[b,f]=(0,l.useState)(!1),[g,y]=(0,l.useState)(null),[j,v]=(0,l.useState)(null),[Z,E]=(0,l.useState)(null),[M,P]=(0,l.useState)(null),[A,F]=(0,l.useState)({}),[T,I]=(0,l.useState)({}),[L,O]=(0,l.useState)(null),[D,z]=(0,l.useState)(null),[R,q]=(0,l.useState)(null),[U,K]=(0,l.useState)(null),[H,J]=(0,l.useState)({}),[V,G]=(0,l.useState)({}),[W,B]=(0,l.useState)(null);(0,l.useEffect)(()=>{X()},[]),(0,l.useEffect)(()=>{if(j){let e=setTimeout(()=>v(null),3e3);return()=>clearTimeout(e)}},[j]),(0,l.useEffect)(()=>{if(g){let e=setTimeout(()=>y(null),5e3);return()=>clearTimeout(e)}},[g]);let X=async()=>{n(!0);try{await Promise.all([Y(),Q(),$(),ee(),et()])}catch(e){y(e instanceof Error?e.message:"Failed to fetch configuration")}finally{n(!1)}},Y=async()=>{let e=await fetch("".concat("","/config/llm"));if(!e.ok)throw Error("Failed to fetch LLM config");E(await e.json())},Q=async()=>{let e=await fetch("".concat("","/config/credentials"));if(!e.ok)throw Error("Failed to fetch credentials");P(await e.json())},$=async()=>{let e=await fetch("".concat("","/config/data-sources"));if(!e.ok)throw Error("Failed to fetch data sources");z((await e.json()).data_sources)},ee=async()=>{let e=await fetch("".concat("","/config/runtime"));if(!e.ok)throw Error("Failed to fetch runtime config");q(await e.json())},et=async()=>{let e=await fetch("".concat("","/api-keys"));if(!e.ok)throw Error("Failed to fetch API keys");K(await e.json())},es=async e=>{f(!0);try{if(!(await fetch("".concat("","/config/llm"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to update LLM config");await Y(),v("LLM configuration updated")}catch(e){y(e instanceof Error?e.message:"Failed to update")}finally{f(!1)}},ea=async e=>{let t=A[e];if(t){O(e);try{if(!(await fetch("".concat("","/config/credentials/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:t})})).ok)throw Error("Failed to update credential");await Q(),F(t=>({...t,[e]:""})),v("Credential ".concat(e," updated"))}catch(e){y(e instanceof Error?e.message:"Failed to update credential")}finally{O(null)}}},el=async e=>{let t=H[e];if(t){B(e);try{if(!(await fetch("".concat("","/api-keys/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({key_name:e,key_value:t})})).ok)throw Error("Failed to update API key");await et(),J(t=>({...t,[e]:""})),v("API key ".concat(e," updated - changes take effect immediately!"))}catch(e){y(e instanceof Error?e.message:"Failed to update API key")}finally{B(null)}}},en=async e=>{if(confirm("Delete ".concat(e," from database? Will fall back to environment variable if set."))){B(e);try{if(!(await fetch("".concat("","/api-keys/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete API key");await et(),v("API key ".concat(e," deleted from database"))}catch(e){y(e instanceof Error?e.message:"Failed to delete API key")}finally{B(null)}}},ei=async(e,t)=>{f(!0);try{if(!(await fetch("".concat("","/config/data-sources/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})})).ok)throw Error("Failed to update data source");await $(),v("Data source ".concat(e," ").concat(t?"enabled":"disabled"))}catch(e){y(e instanceof Error?e.message:"Failed to update data source")}finally{f(!1)}},er=async e=>{f(!0);try{if(!(await fetch("".concat("","/config/runtime"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to update runtime config");await ee(),v("Runtime configuration updated")}catch(e){y(e instanceof Error?e.message:"Failed to update")}finally{f(!1)}},ed=async()=>{f(!0);try{if(!(await fetch("".concat("","/config/reload"),{method:"POST"})).ok)throw Error("Failed to reload config");await X(),v("Configuration reloaded")}catch(e){y(e instanceof Error?e.message:"Failed to reload")}finally{f(!1)}},ec=[{id:"llm",label:"LLM Providers",icon:i},{id:"api-keys",label:"API Keys",icon:r},{id:"credentials",label:"Credentials (File)",icon:r},{id:"data-sources",label:"Data Sources",icon:d},{id:"runtime",label:"Runtime",icon:c}];return s?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-studio-bg",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 text-studio-muted",children:[(0,a.jsx)(o.Z,{className:"w-6 h-6 animate-spin"}),"Loading configuration..."]})}):(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-studio-bg text-studio-text",children:[(0,a.jsx)("header",{className:"border-b border-studio-border bg-studio-panel",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(N(),{href:"/",className:"flex items-center gap-2 text-studio-muted hover:text-studio-text transition-colors",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 text-studio-accent"}),(0,a.jsx)("h1",{className:"text-lg font-semibold",children:"Settings"})]})]}),(0,a.jsxs)("button",{onClick:ed,disabled:b,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-studio-panel hover:bg-studio-border border border-studio-border rounded transition-colors disabled:opacity-50",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 ".concat(b?"animate-spin":"")}),"Reload Config"]})]})}),g&&(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 mt-4",children:(0,a.jsxs)("div",{className:"p-3 bg-red-900/30 border border-red-800 rounded-lg flex items-center gap-2 text-red-400",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),g]})}),j&&(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 mt-4",children:(0,a.jsxs)("div",{className:"p-3 bg-green-900/30 border border-green-800 rounded-lg flex items-center gap-2 text-green-400",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),j]})}),(0,a.jsx)("div",{className:"border-b border-studio-border bg-studio-panel",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,a.jsx)("nav",{className:"flex gap-1",children:ec.map(s=>(0,a.jsxs)("button",{onClick:()=>t(s.id),className:"flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat(e===s.id?"border-studio-accent text-studio-accent":"border-transparent text-studio-muted hover:text-studio-text"),children:[(0,a.jsx)(s.icon,{className:"w-4 h-4"}),s.label]},s.id))})})}),(0,a.jsxs)("main",{className:"flex-1 max-w-7xl mx-auto w-full px-4 py-6",children:["llm"===e&&Z&&(0,a.jsx)(w,{config:Z,onUpdate:es,saving:b}),"api-keys"===e&&U&&(0,a.jsx)(C,{config:U,inputs:H,setInputs:J,showKey:V,setShowKey:G,onSave:el,onDelete:en,savingKey:W}),"credentials"===e&&M&&(0,a.jsx)(k,{credentials:M,inputs:A,setInputs:F,showCredential:T,setShowCredential:I,onSave:ea,savingCredential:L}),"data-sources"===e&&D&&(0,a.jsx)(_,{sources:D,onToggle:ei,saving:b}),"runtime"===e&&R&&(0,a.jsx)(S,{config:R,onUpdate:er,saving:b})]})]})}function w(e){let{config:t,onUpdate:s,saving:n}=e,[d,c]=(0,l.useState)(t);(0,l.useEffect)(()=>{c(t)},[t]);let o=(e,t)=>{s({providers:{[e]:{enabled:t}}})},u=e=>{s({default_provider:e})},m=e=>{s({default_temperature:e})},x=e=>{s({default_max_tokens:e})},h={groq:"Groq",openai:"OpenAI",anthropic:"Anthropic"};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-studio-muted mb-4",children:"Default Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-studio-muted mb-1",children:"Default Provider"}),(0,a.jsx)("select",{value:t.default_provider,onChange:e=>u(e.target.value),disabled:n,className:"w-full bg-black/50 border border-studio-border rounded px-3 py-2 text-sm focus:outline-none focus:border-studio-accent disabled:opacity-50",children:Object.entries(t.providers).map(e=>{let[t,s]=e;return(0,a.jsxs)("option",{value:t,disabled:!s.enabled,children:[h[t]||t," ",!s.enabled&&"(disabled)"]},t)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm text-studio-muted mb-1",children:["Temperature: ",t.default_temperature.toFixed(1)]}),(0,a.jsx)("input",{type:"range",min:"0",max:"2",step:"0.1",value:t.default_temperature,onChange:e=>m(parseFloat(e.target.value)),disabled:n,className:"w-full accent-studio-accent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-studio-muted mb-1",children:"Max Tokens"}),(0,a.jsx)("input",{type:"number",value:t.default_max_tokens,onChange:e=>x(parseInt(e.target.value)||2e3),disabled:n,className:"w-full bg-black/50 border border-studio-border rounded px-3 py-2 text-sm focus:outline-none focus:border-studio-accent disabled:opacity-50"})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(t.providers).map(e=>{let[t,l]=e;return(0,a.jsxs)("div",{className:"p-4 rounded-lg border ".concat(l.enabled?"border-studio-accent bg-studio-accent/5":"border-studio-border bg-studio-panel"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i,{className:"w-5 h-5 ".concat(l.enabled?"text-studio-accent":"text-studio-muted")}),(0,a.jsx)("span",{className:"font-medium",children:h[t]||t})]}),(0,a.jsx)("button",{onClick:()=>o(t,!l.enabled),disabled:n,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(l.enabled?"bg-studio-accent":"bg-studio-border"," disabled:opacity-50"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(l.enabled?"translate-x-6":"translate-x-1")})})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r,{className:"w-3 h-3 text-studio-muted"}),(0,a.jsxs)("span",{className:l.has_api_key?"text-green-400":"text-red-400",children:["API Key: ",l.has_api_key?"Set":"Not Set"]})]}),(0,a.jsxs)("div",{className:"text-studio-muted",children:["Models: ",Object.keys(l.models).length]}),l.enabled&&(0,a.jsxs)("div",{className:"mt-2 pt-2 border-t border-studio-border",children:[(0,a.jsx)("label",{className:"block text-xs text-studio-muted mb-1",children:"Default Model"}),(0,a.jsx)("select",{value:l.default_model,onChange:e=>s({providers:{[t]:{default_model:e.target.value}}}),disabled:n,className:"w-full bg-black/50 border border-studio-border rounded px-2 py-1 text-xs focus:outline-none focus:border-studio-accent disabled:opacity-50",children:Object.entries(l.models).map(e=>{let[t,s]=e;return(0,a.jsxs)("option",{value:t,children:[t,": ",s]},t)})})]})]})]},t)})})]})}function k(e){let{credentials:t,inputs:s,setInputs:l,showCredential:n,setShowCredential:u,onSave:m,savingCredential:x}=e,j={"LLM Providers":i,"Data Sources":d,Database:d,Observability:c};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"p-4 rounded-lg border border-yellow-800/50 bg-yellow-900/20",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"text-yellow-400 font-medium",children:"Security Note"}),(0,a.jsx)("p",{className:"text-yellow-400/80 mt-1",children:"Credentials are stored in the .env file. Actual values are never displayed - only masked previews. Changes take effect immediately."})]})]})}),Object.entries(t.categories).map(e=>{let[i,d]=e,c=j[i]||r;return(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(c,{className:"w-5 h-5 text-studio-accent"}),(0,a.jsx)("h3",{className:"font-medium",children:i})]}),(0,a.jsx)("div",{className:"space-y-3",children:d.map(e=>{let i=t.credentials[e];return i?(0,a.jsx)("div",{className:"flex items-center gap-3 py-2 border-b border-studio-border last:border-0",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:i.key}),i.is_set?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-green-400",children:[(0,a.jsx)(p.Z,{className:"w-3 h-3"})," Set"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-400",children:[(0,a.jsx)(b.Z,{className:"w-3 h-3"})," Not Set"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)("input",{type:n[e]?"text":"password",value:s[e]||"",onChange:t=>l(s=>({...s,[e]:t.target.value})),placeholder:i.masked||"Enter new value...",className:"w-full bg-black/50 border border-studio-border rounded px-3 py-1.5 text-sm focus:outline-none focus:border-studio-accent pr-10"}),(0,a.jsx)("button",{onClick:()=>u(t=>({...t,[e]:!t[e]})),className:"absolute right-2 top-1/2 -translate-y-1/2 text-studio-muted hover:text-studio-text",children:n[e]?(0,a.jsx)(f,{className:"w-4 h-4"}):(0,a.jsx)(g.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("button",{onClick:()=>m(e),disabled:!s[e]||x===e,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-studio-accent hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed rounded transition-colors",children:[x===e?(0,a.jsx)(o.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Save"]})]})]})},e):null})})]},i)})]})}function _(e){let{sources:t,onToggle:s,saving:l}=e,n={sec_edgar:{name:"SEC EDGAR",description:"US public company filings"},finnhub:{name:"Finnhub",description:"Stock and market data"},tavily:{name:"Tavily Search",description:"AI-optimized web search"},web_search:{name:"Web Search",description:"General web search"},courtlistener:{name:"CourtListener",description:"Legal records and cases"},opencorporates:{name:"OpenCorporates",description:"Company registry data"},opensanctions:{name:"OpenSanctions",description:"Sanctions and PEP data"}};return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(t).map(e=>{let[t,i]=e,r=n[t]||{name:t,description:"Data source"},c=!1!==i.enabled;return(0,a.jsxs)("div",{className:"p-4 rounded-lg border ".concat(c?"border-studio-accent bg-studio-accent/5":"border-studio-border bg-studio-panel"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d,{className:"w-5 h-5 ".concat(c?"text-studio-accent":"text-studio-muted")}),(0,a.jsx)("span",{className:"font-medium",children:r.name})]}),(0,a.jsx)("button",{onClick:()=>s(t,!c),disabled:l,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(c?"bg-studio-accent":"bg-studio-border"," disabled:opacity-50"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(c?"translate-x-6":"translate-x-1")})})]}),(0,a.jsx)("p",{className:"text-sm text-studio-muted",children:r.description}),i.rate_limit&&(0,a.jsxs)("p",{className:"text-xs text-studio-muted mt-2",children:["Rate limit: ",i.rate_limit,"/sec"]})]},t)})})}function C(e){let{config:t,inputs:s,setInputs:l,showKey:n,setShowKey:u,onSave:m,onDelete:x,savingKey:h}=e,j={llm:i,search:d,data:d},N={};Object.entries(t.api_keys).forEach(e=>{let[t,s]=e,a=s.category||"other";N[a]||(N[a]=[]),N[a].push([t,s])});let v={llm:"LLM Providers",search:"Search APIs",data:"Data Sources",other:"Other"};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"p-4 rounded-lg border border-green-800/50 bg-green-900/20",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(c,{className:"w-5 h-5 text-green-400 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"text-green-400 font-medium",children:"Runtime API Keys"}),(0,a.jsxs)("p",{className:"text-green-400/80 mt-1",children:["API keys updated here are stored in the database and take effect ",(0,a.jsx)("strong",{children:"immediately"})," without restarting. They override environment variables. Perfect for rotating keys or fixing rate limit issues."]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(d,{className:"w-4 h-4 ".concat(t.database_connected?"text-green-400":"text-red-400")}),(0,a.jsxs)("span",{className:t.database_connected?"text-green-400":"text-red-400",children:["Database: ",t.database_connected?"Connected":"Not Connected"]})]}),Object.entries(N).map(e=>{let[t,i]=e,d=j[t]||r;return(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(d,{className:"w-5 h-5 text-studio-accent"}),(0,a.jsx)("h3",{className:"font-medium",children:v[t]||t})]}),(0,a.jsx)("div",{className:"space-y-4",children:i.map(e=>{let[t,i]=e;return(0,a.jsxs)("div",{className:"py-3 border-b border-studio-border last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:i.display_name}),i.is_set?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-green-400",children:[(0,a.jsx)(p.Z,{className:"w-3 h-3"})," Active"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-400",children:[(0,a.jsx)(b.Z,{className:"w-3 h-3"})," Not Set"]}),i.source&&(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat("database"===i.source?"bg-blue-900/50 text-blue-400":"bg-gray-700 text-gray-400"),children:i.source})]}),i.masked&&(0,a.jsxs)("div",{className:"text-xs text-studio-muted mb-2 font-mono",children:["Current: ",i.masked]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)("input",{type:n[t]?"text":"password",value:s[t]||"",onChange:e=>l(s=>({...s,[t]:e.target.value})),placeholder:"Enter new API key...",className:"w-full bg-black/50 border border-studio-border rounded px-3 py-2 text-sm focus:outline-none focus:border-studio-accent pr-10"}),(0,a.jsx)("button",{onClick:()=>u(e=>({...e,[t]:!e[t]})),className:"absolute right-2 top-1/2 -translate-y-1/2 text-studio-muted hover:text-studio-text",children:n[t]?(0,a.jsx)(f,{className:"w-4 h-4"}):(0,a.jsx)(g.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("button",{onClick:()=>m(t),disabled:!s[t]||h===t,className:"flex items-center gap-1 px-4 py-2 text-sm bg-studio-accent hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed rounded transition-colors",children:[h===t?(0,a.jsx)(o.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Save"]}),"database"===i.source&&(0,a.jsx)("button",{onClick:()=>x(t),disabled:h===t,className:"flex items-center gap-1 px-3 py-2 text-sm bg-red-900/50 hover:bg-red-800 text-red-400 disabled:opacity-50 disabled:cursor-not-allowed rounded transition-colors",title:"Remove from database (will fall back to environment variable)",children:(0,a.jsx)(b.Z,{className:"w-4 h-4"})})]})]},t)})})]},t)})]})}function S(e){let{config:t,onUpdate:s,saving:l}=e,n=t.runtime||{},i=n.cache||{};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-studio-accent"}),(0,a.jsx)("h3",{className:"font-medium",children:"Hot Reload"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Enable Hot Reload"}),(0,a.jsx)("p",{className:"text-xs text-studio-muted",children:"Automatically reload config when file changes"})]}),(0,a.jsx)("button",{onClick:()=>s({hot_reload:!n.hot_reload}),disabled:l,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(n.hot_reload?"bg-studio-accent":"bg-studio-border"," disabled:opacity-50"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(n.hot_reload?"translate-x-6":"translate-x-1")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm text-studio-muted mb-1",children:["Watch Interval: ",n.watch_interval_seconds||5," seconds"]}),(0,a.jsx)("input",{type:"range",min:"1",max:"60",value:n.watch_interval_seconds||5,onChange:e=>s({watch_interval_seconds:parseInt(e.target.value)}),disabled:l||!n.hot_reload,className:"w-full accent-studio-accent disabled:opacity-50"})]})]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(c,{className:"w-5 h-5 text-studio-accent"}),(0,a.jsx)("h3",{className:"font-medium",children:"Cache"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Enable Cache"}),(0,a.jsx)("p",{className:"text-xs text-studio-muted",children:"Cache API responses to reduce calls"})]}),(0,a.jsx)("button",{onClick:()=>s({cache_enabled:!i.enabled}),disabled:l,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(i.enabled?"bg-studio-accent":"bg-studio-border"," disabled:opacity-50"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(i.enabled?"translate-x-6":"translate-x-1")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-studio-muted mb-1",children:"Cache TTL (seconds)"}),(0,a.jsx)("input",{type:"number",value:i.ttl_seconds||300,onChange:e=>s({cache_ttl_seconds:parseInt(e.target.value)||300}),disabled:l||!i.enabled,className:"w-full bg-black/50 border border-studio-border rounded px-3 py-2 text-sm focus:outline-none focus:border-studio-accent disabled:opacity-50"})]})]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-studio-border bg-studio-panel",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 text-studio-accent"}),(0,a.jsx)("h3",{className:"font-medium",children:"Configuration Status"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-studio-muted",children:"Config File"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:t.config_path})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-studio-muted",children:"Hot Reload Active"}),(0,a.jsx)("span",{className:t.hot_reload_active?"text-green-400":"text-red-400",children:t.hot_reload_active?"Yes":"No"})]})]})]})]})}}},function(e){e.O(0,[238,971,458,744],function(){return e(e.s=1864)}),_N_E=e.O()}]);